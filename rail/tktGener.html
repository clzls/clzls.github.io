<!DOCTYPE html>
<html lang="zh">

<head>
  <title>运转大数据 ｜ 票机记录生成表</title>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!--<link rel="stylesheet" href="./js/bootstrap.min.css">-->
  <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.13.1/css/fontawesome.min.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.13.1/css/solid.min.css">
  <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.staticfile.org/twitter-bootstrap/4.5.0/js/bootstrap.bundle.min.js" defer></script>
  <script src="./js/tkt_type.min.js"></script>
  <style>
    body {padding-top: 4em;}img.ptimg{width:300px;max-width:100%;height:auto}.s0lt1,.s1lt1{color:red!important}.s1lt2,.s2lt1,.s2lt2,.s3lt1,.s4lt2{color:#ff0!important}.s4lt1,.s5lt1{color:#3f3!important}.s0lt2,.s3lt2,.s5lt2{color:transparent!important}a.promo{word-break: break-all}
  </style>
</head>

<body>
  <a id="top"></a>
  <nav class="navbar navbar-expand-sm fixed-top navbar-light" style="background-color: #e3f2fd;">
    <a class="navbar-brand" href="./tktmach_latest.html">运转大数据</a>
    <span class="navbar-text"> By Kina(木菜)</span>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="./tktmach_latest.html">返回</a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="#">生成器</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="./tktAbout.html">关于</a>
      </li>
    </ul>
  </nav>
  <div class="container">
    项目网址：
    <a href="https://clzls.github.io/rail/tktmach_latest.html" class="promo">
      https://clzls.github.io/rail/tktmach_latest.html
    </a>
  </div>
  <div class="container my-3">
    <h2>票机评价标准</h2>
    <ol class="list-group">
      <li class="list-group-item list-group-item-danger">0分/极差：刚出票即有瑕疵，半年左右即模糊不清，并有缺失、白条等。</li>
      <li class="list-group-item list-group-item-warning">1分/很差：一年左右即模糊不清，缺失、白条等。</li>
      <li class="list-group-item list-group-item-warning">2分/略差：略有模糊，略有不整齐；或两年后褪色明显的。</li>
      <li class="list-group-item list-group-item-info">3分/尚可：半年左右仍清晰可认，无白条。两年后应仍可明显辨认。</li>
      <li class="list-group-item list-group-item-success">4分/佳：一年仍清晰锐利，无白条、缺失。</li>
      <li class="list-group-item list-group-item-success">5分/佳：两年仍清晰锐利，无白条、缺失等。（特殊等级）</li>
      <li class="list-group-item">红色软质车票由于其抗褪色特性，可以视情况加分。（系统自动完成）</li>
    </ol>
  </div>
  <div class="container">
    <p>票号前十位包含以下信息：</p>
    <p>5位车站号+2位售票方式号+3位售票窗口号</p>
    <p>售票机的窗口号可以从屏幕最底下获得。售票窗口的窗口号一般悬挂在窗口上，除非有特殊声明。</p>
  </div>
  <script src="./js/code_gen.min.js"></script>
  <div class="container">
    <h2>票机数据收集表</h2>
    <p>注意：</p>
    <ol class="list-group">
      <li class="list-group-item list-group-item-info">首次填写前请阅读帮助页面，并与管理员取得联系，向管理员提交用户名注册申请（零星数据也可以直接以“网友”身份投递）。不被认可的用户名可能被要求修改或者以“热心网友”替代。本页面仅为内部辅助工具，可能无法涵盖所有情况，如果不确定如何填写，可以在通信中详细描述。</li>
      <li class="list-group-item">现在表格具有自动填写机器名的功能，填写时请按照先上后下的顺序。需要手动触发填写时，可以清空机器名一栏。</li>
      <li class="list-group-item list-group-item-info">据悉，原则上 2022-04-20 以来打印之报销凭证不再在票号后提示售票站名。自北京时间 2022-04-20 00:00 始至 另有通知 止，所有车票均应标注票号后注（如有），如“福州售”“北京西”“JM”。留空则自动提示为无附注。</li>
      <li class="list-group-item">关于无法打印报销凭证的机器。如果可以打印信息单，则应采用信息单下方“出单地点”或“出单”处显示的十位数字作为“票号前十位”，并在备注中注明。由于技术原因，没有”票号前十位“的机器暂时无法记录。</li>
    </ol>
    <form class="was-validated" action="javascript:sub2()" onchange="sub()">
      <div class="form-group">
        <label for="userid">用户名：</label>
        <input type="text" class="form-control" id="userid" placeholder="热心网友" required size="12" maxlength="12"
          title="请输入合法的用户名。">
      </div>
      <div class="form-group">
        <label for="tktno">票号前十位:</label>
        <input type="text" class="form-control" id="tktno" placeholder="1001000033" pattern="[1-9]\d{9}" required
          size="10" maxlength="10" title="请输入十位数字。">
      </div>
      <div class="form-group">
        <label for="tktdesc">去除前十位后的完整票号:</label>
        <input type="text" class="form-control" id="tktfullnum" placeholder="例如：0601A114514" size="21" pattern="[0-9,\*]{4}[A-Z,\*][0-9,\*]{6}" maxlength="21" title="请输入去除前十位后的完整票号。">
        <small class="text-muted">去除前十位后的完整票号，缺失位用<code>*</code>号补齐。本栏数据仅用于内部统计和检查使用，不会对外公开。</small>
      </div>
      <div class="form-row">
        <div class="col">
          <label for="tktdate">取票日期:<span class="text-muted">取出车票的日期，用于确定票机状态。</span></label>
          <input type="date" class="form-control" id="tktdate" required title="请输入车票的取票日期。">
        </div>
        <div class="col">
          <label for="recdate">记录日期:<span class="text-muted">拍摄照片或查看车票的日期，用于确定车票状态。</span></label>
          <input type="date" class="form-control" id="recdate" required title="请输入照片拍摄或查看车票的日期，用于确定车票状态。">
        </div>
      </div>
      <div class="form-group">
        <label for="staname1">车站地点描述:</label>
        <div class="form-row">
          <div class="col-5">
            <div class="input-group mb-3">
              <input type="text" class="form-control" required size="14" id="staname1" placeholder="北京南">
              <div class="input-group-append">
                <span class="input-group-text">站</span>
              </div>
            </div>
          </div>
          <div class="col-7">
            <input type="text" class="form-control" required size="14" id="staname2" placeholder="候车室西南侧银通卡窗口">
          </div>
        </div>

      </div>
      <div class="form-check-inline">
        <label class="form-check-label">
          <input type="checkbox" class="form-check-input" id="sel_rem">票机被移除
        </label>
      </div>
      <div class="form-check-inline">
        <label class="form-check-label">
          <input type="checkbox" class="form-check-input" id="sel_red2blue">红票改蓝票
        </label>
      </div>
      <div class="form-check-inline">
        <label class="form-check-label">
          <input type="checkbox" class="form-check-input" id="sel_guide_needed">终端号与机器贴纸不符（如果有贴纸）
        </label>
      </div>
      <div class="form-group form-row">
        <div class="col">
          <label for="sel1">是否红票</label>
          <select class="form-control" id="sel1">
            <option value="1">红票</option>
            <option value="0" selected>蓝票</option>
            <option value="2">其他</option>
          </select>
        </div>
        <div class="col">
          <label for="sel2">时效性</label>
          <select class="form-control" id="sel2">
            <option value="2" selected>新鲜记录，仍然有效</option>
            <option value="1">超过半年，仍然有效或状态未知</option>
            <option value="0">已经无效或超过两年</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="sel3">票质:</label>
        <input type="range" class="form-control-range" id="sel3" min="0" max="4" value="3">
        <span id="sel3resl"></span>
      </div>
      <div class="form-group">
        <label for="sel4">背面票纸:（检查背面“乘车须知”的字体）</label>
        <select class="form-control" id="sel4">
          <optgroup label="蓝票" data-red="0">
            <option value="1" data-red="0">蓝票（黑体空两格）票纸</option>
            <option value="2" data-red="0">蓝票（宋体左对齐）票纸</option>
            <option value="3" data-red="0">蓝票（黑体左对齐）票纸</option>
            <option value="10" data-red="0">蓝票（黑体其他）票纸</option>
            <option value="102" data-red="0">蓝票（宋体居中）票纸</option>
            <option value="103" data-red="0">蓝票（宋体左对齐，旧版1）票纸</option>
            <option value="121" data-red="0">蓝票（宋体左对齐，冬奥主题）票纸</option>
            <option value="200" data-red="0">蓝票（宋体其他）票纸</option>
            <option value="19" data-red="0">不明蓝票票纸</option>
          </optgroup>
          <optgroup label="红票" data-red="1">
            <option value="21" data-red="1">红票宋体空两格票纸</option>
            <option value="22" data-red="1">第1类红票黑体左对齐票纸</option>
            <option value="23" data-red="1">第2类红票黑体左对齐票纸</option>
            <option value="24" data-red="1">第3类红票黑体左对齐票纸</option>
            <option value="25" data-red="1">第4类红票长黑体左对齐票纸</option>
            <option value="26" data-red="1">第5类红票长黑体左对齐票纸</option>
            <option value="31" data-red="1">第1类红票黑体空两格票纸</option>
            <option value="41" data-red="1">第1类红票宋体居中票纸</option>
            <option value="45" data-red="1">红票（宋体左对齐）票纸</option>
            <option value="59" data-red="1">不明红票票纸</option>
          </optgroup>
          <optgroup label="其他" data-red="2">
            <option value="255" data-red="2" selected>未知票纸</option>
          </optgroup>
        </select>
      </div>
      <div class="form-group">
        <p class="mb-1">票纸：<span id="paper_example"></span></p>
      </div>
      <div class="form-group" id="scores"></div>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <input type="checkbox" aria-label="是否显示车票票号后的提示，复选框" id="descSel_pmbz">
          </div>
          <span class="input-group-text">票号后注有：</span>
        </div>
        <input type="text" class="form-control" id="descSelTxt_pmbz" aria-label="请输入车票票号后的提示" placeholder="例如：JM"
          title="请输入车票票号后的提示。">
      </div>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <div class="input-group-text">
            <input type="checkbox" aria-label="车票是否含有广告，复选框" id="selAd">
          </div>
          <span class="input-group-text">有票面广告，内容为：</span>
        </div>
        <input type="text" class="form-control" id="selAdTxt" aria-label="请输入车票广告" placeholder="例如：广告位招商"
          title="请输入车票广告。">
      </div>
      <div class="form-group">
        <small class="text-muted">
          <p>自北京时间 2022-04-20 00:00 始至 另有通知 止，所有车票均应标注票号后注（如有），如“福州售”“北京西”“JM”。留空则自动提示为无附注。</p>
          <p>上文所称广告，指除了默认信息以外的信息，包括但不限于公益广告、商业广告等。</p>
        </small>
      </div>
      <div class="form-group">
        票机功能信息:
        <span class="text-danger">本栏目尚未开放，如不确定请先不要填写</span>
        <details>
          <summary>票机功能信息表</summary>
          <p>
            <a id="btn-clear-func" class="btn btn-warning btn-sm" href="#">清空功能表</a>
          </p>
          <table class="table" id="tab-func"></table>
        </details>
      </div>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text" id="machbrandLbl">机器厂商</span>
        </div>
        <select class="form-control col" id="machbrandSel" aria-labelledby="machbrandLbl">
          <option value="0">未指定 / 其他</option>
          <option value="1">铁科院 CARS</option>
          <option value="2">通号 CRSC</option>
          <option value="11">易程 Easyway</option>
          <option value="31">神州数码</option>
        </select>
        <input type="text" class="form-control" id="machbrandTxt" placeholder="例如：易程" size="16" maxlength="16" title="请输入机器的生产厂商。">
      </div>
      <div class="form-group">
        <label for="tktdesc">其他描述:</label>
        <input type="text" class="form-control" id="tktdesc" placeholder="票面广告，背面字体等" size="100" maxlength="100" title="请输入对车票的其他描述。">
      </div>
      <button type="reset" class="btn btn-warning" onclick="preset_date()">清空</button>
      <button type="submit" class="btn btn-primary">生成代码</button>
      <button type="button" class="btn btn-primary" onclick="sub2(this)">生成并复制</button>
      <div class="form-group">
        <label for="jso">请将以下代码 <strong>复制</strong> 给管理员：</label>
        <textarea class="form-control" rows="5" id="jso" readonly></textarea>
      </div>
    </form>
  </div>
</body>

</html>
