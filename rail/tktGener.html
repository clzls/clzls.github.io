<!DOCTYPE html>
<html lang="zh">

<head>
  <title>运转大数据 ｜ 票机记录生成表</title>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!--Polyfills BEGIN-->
  <script nomodule src="https://cdn.staticfile.org/es6-shim/0.35.6/es6-shim.min.js"></script>
  <script nomodule src="https://cdn.staticfile.org/promise-polyfill/8.2.3/polyfill.min.js"></script>
  <!--Polyfills END-->
  <link rel="stylesheet" href="https://cdn.staticfile.org/bootstrap/5.2.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.13.1/css/fontawesome.min.css">
  <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/5.13.1/css/solid.min.css">
  <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.staticfile.org/bootstrap/5.2.3/js/bootstrap.bundle.min.js" defer></script>
  <script src="./js/tkt_type.min.js"></script>
  <style>
    body {padding-top: 4em;}img.ptimg{width:300px;max-width:100%;height:auto}.s0lt1,.s1lt1{color:red!important}.s1lt2,.s2lt1,.s2lt2,.s3lt1,.s4lt2{color:#ff0!important}.s4lt1,.s5lt1{color:#3f3!important}.s0lt2,.s3lt2,.s5lt2{color:transparent!important}a.promo{word-break: break-all}
  </style>
</head>

<body>
  <a id="top"></a>
  <nav class="navbar navbar-expand-sm fixed-top" style="background-color: #e3f2fd;">
    <div class="container-fluid">
      <a class="navbar-brand mx-2" href="./tktmach_latest.html">运转大数据</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTog" aria-controls="navbarTog" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarTog">
        <span class="navbar-text"> By Kina(木菜)</span>
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link" href="./tktmach_latest.html">返回</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="#">生成器</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./tktAbout.html">关于</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container">
    项目网址：
    <a href="https://clzls.github.io/rail/tktmach_latest.html" class="promo">
      https://clzls.github.io/rail/tktmach_latest.html
    </a>
  </div>
  <div class="container my-3">
    <h2>票机评价标准</h2>
    <ol class="list-group">
      <li class="list-group-item list-group-item-danger">0分/极差：刚出票即有瑕疵，半年左右即模糊不清，并有缺失、白条等。</li>
      <li class="list-group-item list-group-item-warning">1分/很差：一年左右即模糊不清，缺失、白条等多种缺陷。</li>
      <li class="list-group-item list-group-item-warning">2分/略差：略有模糊、白条、缺失，略有不整齐；或两年后褪色明显的。</li>
      <li class="list-group-item list-group-item-info">3分/尚可：半年左右仍清晰可认，无白条。两年后应仍可明显辨认。（新打印车票 清晰锐利，无白条、缺失，但采用易褪色类票纸的；或 有极少量难以分辨、不影响整体质量的缺失的 可参考此等级）</li>
      <li class="list-group-item list-group-item-success">4分/佳：一年仍清晰锐利，无白条、缺失。（新打印车票 清晰锐利，无白条、缺失且未采用易褪色类票纸的 可参考此等级）</li>
      <li class="list-group-item list-group-item-success">5分/佳：两年仍清晰锐利，无白条、缺失等。（特殊等级）</li>
      <li class="list-group-item">红色软质车票由于其抗褪色特性，可以视情况加分。（系统自动完成）</li>
    </ol>
  </div>
  <div class="container">
    <p>票号前十位包含以下信息：</p>
    <p>5位车站号+2位售票方式号+3位售票窗口号</p>
    <p>售票机的窗口号可以从屏幕最底下获得。售票窗口的窗口号一般悬挂在窗口上，除非有特殊声明。</p>
  </div>
  <script src="./js/code_gen.min.js"></script>
  <script src="./js/codeGen2.min.js"></script>
  <div class="container">
    <h2>票机数据收集表</h2>
    <p>注意：</p>
    <ol class="list-group">
      <li class="list-group-item list-group-item-info">首次填写前请阅读帮助页面，并与管理员取得联系，向管理员提交用户名注册申请（零星数据也可以直接以“网友”身份投递）。不被认可的用户名可能被要求修改或者以“热心网友”替代。本页面仅为内部辅助工具，可能无法涵盖所有情况，如果不确定如何填写，可以在通信中详细描述。</li>
      <li class="list-group-item">现在表格具有自动填写机器名的功能，填写时请按照先上后下的顺序。需要手动触发填写时，可以清空机器名一栏。</li>
      <li class="list-group-item list-group-item-info">据悉，原则上 2022-04-20 以来打印之报销凭证不再在票号后提示售票站名。自北京时间 2022-04-20 00:00 始至 另有通知 止，所有车票均应标注票号后注（如有），如“福州售”“北京西”“JM”。留空则自动提示为无附注。</li>
      <li class="list-group-item">关于无法打印报销凭证的机器。如果可以打印信息单，则应采用信息单下方“出单地点”或“出单”处显示的十位数字作为“票号前十位”，并在备注中注明。由于技术原因，没有”票号前十位“的机器暂时无法记录。</li>
    </ol>
    <form class="was-validated">
      <div class="my-3 g-2">
        <label class="form-label" for="userid">用户名：</label>
        <div class="input-group has-validation">
          <input type="text" class="form-control" id="userid" placeholder="热心网友" required size="12" maxlength="12" autocomplete="username">
          <button class="btn btn-outline-secondary" type="button" id="btn-lock-userid" data-bs-toggle="button">记住</button>
          <div class="invalid-feedback">
            请输入合法的用户名。
          </div>
        </div>
      </div>
      <div class="mb-3 g-2">
        <label class="form-label" for="tktno">票号前十位：</label>
        <input type="text" class="form-control" id="tktno" placeholder="1001000033" pattern="[1-9]\d{9}" required
          size="10" maxlength="10" title="请输入十位数字。">
        <div class="invalid-feedback">
          请输入十位数字。
        </div>
      </div>
      <div class="mb-3 g-2">
        <label class="form-label" for="tktdesc">去除前十位后的完整票号：</label>
        <input type="text" class="form-control" id="tktfullnum" placeholder="例如：0601A114514" size="21" pattern="[0-9,\*]{4}[A-Z,\*][0-9,\*]{6}" maxlength="21" aria-describedby="tktdesc-desc" title="请输入去除前十位后的完整票号。">
        <div class="form-text" id="tktdesc-desc">去除前十位后的完整票号，缺失位用 <code>*</code> 号补齐。本栏数据仅用于内部统计和检查使用，不会对外公开。</div>
      </div>
      <div class="row row-cols-1 row-cols-sm-2 mb-3 g-2">
        <div class="col">
          <label class="form-label" for="tktdate">取票日期：<span class="text-muted">取出车票的日期，用于确定票机状态。</span></label>
          <input type="date" class="form-control" id="tktdate" required>
        </div>
        <div class="col">
          <label class="form-label" for="recdate">记录日期：<span class="text-muted">拍摄照片或查看车票的日期，用于确定车票状态。</span></label>
          <input type="date" class="form-control" id="recdate" required>
        </div>
      </div>
      <div class="my-3 g-2">
        <label class="form-label" for="staname1">车站地点描述:</label>
        <div class="input-group mb-3">
          <input type="text" class="form-control" required size="14" id="staname1" placeholder="北京南">
          <span class="input-group-text">站</span>
          <input type="text" class="form-control" required size="14" id="staname2" placeholder="候车室西南侧银通卡窗口">
        </div>
      </div>
      <div class="row row-cols-auto m-1 g-2">
        <div class="col form-check form-check-inline">
          <input type="checkbox" class="form-check-input" id="sel_rem">
          <label class="form-check-label" for="sel_rem">票机被移除</label>
        </div>
        <div class="col form-check form-check-inline">
          <input type="checkbox" class="form-check-input" id="sel_red2blue">
          <label class="form-check-label" for="sel_red2blue">红票改蓝票
          </label>
        </div>
        <div class="col form-check form-check-inline">
            <input type="checkbox" class="form-check-input" id="sel_guide_needed">
          <label class="form-check-label" for="sel_guide_needed">终端号与机器贴纸 / LED（如果有）不符
          </label>
        </div>
      </div>
      <div class="row row-cols-1 row-cols-sm-2 mb-3 g-2">
        <div class="col">
          <label class="form-label" for="sel1">票纸类型（红票/蓝票/信息单）</label>
          <select class="form-select" id="sel1">
            <option value="1">红票</option>
            <option value="0" selected>蓝票</option>
            <option value="2">其他（信息单、未知）</option>
          </select>
        </div>
        <div class="col">
          <label class="form-label" for="sel2">时效性</label>
          <select class="form-select" id="sel2">
            <option value="2" selected>半年内新鲜记录，仍然有效</option>
            <option value="1">超过半年，仍然有效或状态未知</option>
            <option value="0">已经无效或超过两年</option>
          </select>
        </div>
      </div>
      <div class="mb-3 g-2">
        <label class="form-label" for="sel3">票质：</label>
        <input type="range" class="form-range" id="sel3" min="0" max="4" value="3">
        <span id="sel3resl"></span>
      </div>
      <div class="mb-3 g-2">
        <label class="form-label" for="sel4">背面票纸:（检查背面“乘车须知”的字体）</label>
        <select class="form-select" id="sel4">
          <optgroup label="蓝票" data-red="0">
            <option value="1">蓝票（黑体空两格）票纸</option>
            <option value="2">蓝票（宋体左对齐）票纸</option>
            <option value="3">蓝票（黑体左对齐）票纸</option>
            <option value="7">蓝报销凭证（黑体居中，2023年新型）票纸</option>
            <option value="10">蓝票（黑体其他）票纸</option>
            <option value="102">蓝票（宋体居中）票纸</option>
            <option value="103">蓝票（宋体左对齐，旧版1）票纸</option>
            <option value="121">蓝票（宋体左对齐，冬奥主题）票纸</option>
            <option value="200">蓝票（宋体其他）票纸</option>
            <option value="19">其他蓝票票纸</option>
          </optgroup>
          <optgroup label="红票" data-red="1">
            <option value="21">红票宋体空两格票纸</option>
            <option value="22">第1类红票黑体左对齐票纸</option>
            <option value="23">第2类红票黑体左对齐票纸</option>
            <option value="24">第3类红票黑体左对齐票纸</option>
            <option value="25">第4类红票长黑体左对齐票纸</option>
            <option value="26">第5类红票长黑体左对齐票纸</option>
            <option value="31">第1类红票黑体空两格票纸</option>
            <option value="41">第1类红票宋体居中票纸</option>
            <option value="45">红票宋体左对齐票纸（旧版）</option>
            <option value="49">红票宋体左对齐票纸（人民日报广告）</option>
            <option value="62">红报销凭证（黑体居中，2023年新型）票纸</option>
            <option value="59">其他红票票纸</option>
          </optgroup>
          <optgroup label="其他（信息单、未知）" data-red="2">
            <option value="254">信息单，白色小票</option>
            <option value="255" selected>其他非红非蓝票纸（请详细描述）</option>
          </optgroup>
        </select>
      </div>
      <div class="mb-3 g-2">
        <p>票纸：<span id="paper_example">票纸信息暂缺</span></p>
      </div>
      <div class="mb-3 g-2" id="scores"></div>
      <div class="input-group">
        <div class="input-group-text">
          <input type="checkbox" aria-label="是否显示车票票号后的提示，复选框" id="descSel_pmbz">
        </div>
        <span class="input-group-text">票号后注有：</span>
        <input type="text" class="form-control" id="descSelTxt_pmbz"
          aria-describedby="descSelTxt_pmbz-desc"
          placeholder="例如：JM"
          title="请输入车票票号后的提示。">
      </div>
      <p class="mb-3 form-text" id="descSelTxt_pmbz-desc">自北京时间 2022-04-20 00:00 始至 另有通知 止，所有车票均应标注票号后注（如有），如“福州售”“北京西”“JM”。留空则自动提示为无附注。</p>
      <div class="input-group">
        <div class="input-group-text">
          <input type="checkbox" aria-label="车票是否含有广告，复选框" id="selAd">
        </div>
        <span class="input-group-text">有票面广告，内容为：</span>
        <input type="text" class="form-control" id="selAdTxt"
          aria-describedby="selAdTxt-desc"
          placeholder="例如：广告位招商"
          title="请输入车票广告。">
      </div>
      <p class="mb-3 form-text" id="selAdTxt-desc">上文所称广告，指除了默认信息以外的信息，包括但不限于公益广告、商业广告等。商业广告可能会被模糊处理以防止侵权。</p>
      <div class="row row-cols-1 row-cols-lg-2 mb-3 g-2">
        <div class="col">
          <div class="input-group">
            <span class="input-group-text">如在站外，地址：</span>
            <input type="text" class="form-control" id="selAddr"
              aria-describedby="selAddr-desc"
              placeholder="例如：河南省洛阳市涧西区牡丹路1号"
              title="请输入机器地址。">
          </div>
          <p class="mb-3 form-text" id="selAddr-desc">如果该机器为站外自助机或代售点，请按照邮政标准填写此项。</p>
        </div>
        <div class="col">
          <div class="input-group">
            <span id="selOpenHour-lbl" class="input-group-text">机器开放时间：</span>
            <input type="text" class="form-control" id="selOpenHour"
              aria-describedby="selOpenHour-desc"
              placeholder="例如：09:00-19:00" title="请输入机器开放时间。">
          </div>
          <p class="mb-3 form-text" id="selOpenHour-desc">如果该机器标注了开放时间，请按照标准填写此项。</p>
        </div>
        <div class="col">
          <div class="input-group">
            <span id="selSticker-lbl" class="input-group-text">贴纸：</span>
            <input type="text" class="form-control" id="selSticker"
              aria-describedby="selSticker-desc"
              placeholder="例如：售票1-14" title="请输入机器贴纸上的编号。">
          </div>
          <p class="mb-3 form-text" id="selSticker-desc">如果该机器具有贴纸，请填写此项。</p>
        </div>
        <div class="col">
          <div class="input-group">
            <span id="selScreen-lbl" class="input-group-text">LED指示：</span>
            <input type="text" class="form-control" id="selScreen"
              aria-describedby="selScreen-desc"
              placeholder="例如：1" title="请输入机器LED指示牌上的编号。">
          </div>
          <p class="mb-3 form-text" id="selScreen-desc">如果该机器具有LED指示牌，请填写此项。</p>
        </div>
      </div>
      <div class="mb-3 g-2">
        票机功能信息：
        <span class="text-danger">本栏目尚未开放，请询问填写方式后填写。</span>
        <details>
          <summary>票机功能信息表</summary>
          <p>
            <button type="button" id="btn-clear-func" class="btn btn-warning btn-sm">清空功能表</button>
          </p>
          <table class="table table-hover" id="tab-func">
            <tbody></tbody>
          </table>
        </details>
      </div>
      <div class="input-group mb-3">
        <span class="input-group-text" id="machbrandLbl">机器厂商</span>
        <select class="form-select" id="machbrandSel" aria-labelledby="machbrandLbl">
          <option value="0">未指定 / 其他</option>
          <option value="1">铁科院 CARS</option>
          <option value="2">通号 CRSC</option>
          <option value="11">易程 Easyway</option>
          <option value="31">神州数码</option>
          <option value="33">新北洋 SNBC</option>
          <option value="35">思源科创 SYKC</option>
          <option value="250">未知-带有CRH标识</option>
        </select>
        <input type="text" class="form-control" id="machbrandTxt" placeholder="例如：易程" size="16" maxlength="16" title="请输入机器的生产厂商。">
      </div>
      <div class="mb-3 g-2">
        <label class="form-label" for="tktdesc">其他描述:</label>
        <input type="text" class="form-control" id="tktdesc" placeholder="票面广告，背面字体等" size="100" maxlength="100" title="请输入对车票的其他描述。">
      </div>
      <div class="mb-3 btn-group" role="group" aria-label="表单控制按钮">
        <button type="reset" class="btn btn-outline-warning">清空</button>
        <button type="submit" class="btn btn-outline-primary">生成代码</button>
        <button type="button" class="btn btn-outline-primary" id="btn-copy">生成并复制</button>
      </div>
      <div class="mb-3 g-2">
        <label class="form-label" for="jso">请将以下代码 <strong>复制</strong> 给管理员：</label>
        <textarea class="form-control" rows="5" id="jso" readonly></textarea>
      </div>
    </form>
  </div>
</body>

</html>
